{% extends "base.html" %}

{% block content %}

<div class="wrapper">
  <table id="student-table" class="table table-striped">
       <tr>
            <th>PersonID</th>
            <th>LastName</th>
            <th>FirstName</th>
            <th>Address</th>
            <th>City</th>
      </tr>
      {% for person in persons %}
        <tr>
           <td>{{ person[0] }}</td>
           <td>{{ person[1] }}</td>
           <td>{{ person[3] }}</td>
           <td>{{ person[2] }}</td>
           <td>{{ person[4] }}</td>
           <td><button onclick="editPerson({{ person[0] }},'{{ person[1] }}','{{ person[2] }}','{{ person[3] }}','{{ person[4] }}')" class="btn btn-primary">Edit</button></td>
           <td><button onclick="if(confirm('Are you sure you want to delete this person?')){location.href = '/delete/{{ person[0] }}'}" class="btn btn-danger">Delete</button></td>
        </tr>
      {% endfor %}
      <tr>
        <form method="post" action="/add">
          <td><input type="number" name="PersonID" id="PersonID" class="form-control" placeholder="Enter PersonID name"></td>
          <td><input type="text" name="LastName" id="LastName" class="form-control" placeholder="Enter last name"></td>
          <td><input type="text" name="FirstName" id="FirstName" class="form-control" placeholder="Enter first name"></td>
          <td><input type="text" name="Address" id="address" class="form-control" placeholder="Enter address"></td>
          <td><input type="text" name="City" id="city" class="form-control" placeholder="Enter city"></td>
          <td><button type="submit" class="btn btn-success">Add</button></td>
        </form>
      </tr>
  </table>

  <div id="edit-form-container" style="display:none">
    <h3>Edit Person</h3>
    <form id="edit-form" method="POST" action="/update">
      <input type="hidden" id="person-id" name="person-id">
      <div class="form-group">
        <label for="last-name">Last Name</label>
        <input type="text" class="form-control" id="last-name" name="last-name" required>
      </div>
      <div class="form-group">
        <label for="first-name">First Name</label>
        <input type="text" class="form-control" id="first-name" name="first-name" required>
      </div>
      <div class="form-group">
        <label for="address">Address</label>
        <input type="text" class="form-control" id="address" name="address" required>
      </div>
      <div class="form-group">
        <label for="city">City</label>
        <input type="text" class="form-control" id="city" name="city" required>
      </div>
      <button type="submit" class="btn btn-primary">Update</button>
      <button type="button" onclick="closeEditForm()" class="btn btn-secondary">Cancel</button>
    </form>
  </div>
</div>

{% endblock %}

